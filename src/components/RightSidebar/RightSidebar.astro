---
import TableOfContents from "~/components/TableOfContents"
import MoreMenu from "./MoreMenu.astro"
import { Feedback } from "../PageContent/Feedback"
import { MarkdownHeading } from "astro"

export type Props = {
  githubEditUrl: string
  headings: MarkdownHeading[]
}
const { githubEditUrl, headings } = Astro.props
---

<section class="sidebar-nav" aria-labelledby="grid-right">
  <TableOfContents client:media="(min-width: 50em)" initialHeadings={headings} />
  <MoreMenu editHref={githubEditUrl} />
  <h2 class="heading feedback-title">Feedback</h2>
  <div class="feedback-wrapper">
    <Feedback client:idle />
  </div>
</section>

<style>
  .sidebar-nav {
    height: fit-content;
    padding: 0 0 calc(2 * var(--doc-padding)) 0;
    position: sticky;
    top: 0;
  }

  .feedback-title {
    font-size: 12px;
    letter-spacing: 1px;
    text-transform: uppercase;
    margin-bottom: var(--space-2x);
    color: var(--color-text-heading);
    margin-top: var(--space-8x);
  }

  .feedback-wrapper {
    margin-top: var(--space-3x);
  }
</style>
