---
layout: ../../layouts/MainLayout.astro
section: automation
title: "Data Feed Circuit Breaker Using Chainlink Automation"
---

Circuit breakers are useful for pausing dApps and processes when adverse events are detected on-chain. These circuit breakers can prevent loss of assets during volatile market events, unstable network conditions, or if systems that your dApp relies on become compromised.

The example circuit breaker contract is a highly configurable proof of concept that can be used with [Data Feeds](/data-feeds). It is capable of emitting events or calling custom functions based on predefined conditions, and it comes with an interactive UI that allows users to easily configure and manage the contract.

{/* prettier-ignore */}
<div class="remix-callout">
  <a href="https://github.com/smartcontractkit/quickstarts-circuitbreaker">See the code on GitHub</a>
</div>

## Objective

The [Circuit Breaker repository](https://github.com/smartcontractkit/quickstarts-circuitbreaker) contains example contracts of an implementation of a circuit breaker that can be used with any OCR price feed. It is possible to monitor a given contract, specify the price when the circuit breaker will be triggered based on predefined conditions, and then underlying logic of what happens when the circuit breaker is triggered.

## Before you begin

You can run this example on Linux, MacOS, or the [Windows Subsystem for Linux](https://learn.microsoft.com/en-us/windows/wsl/about).

Before you start this tutorial, install the required tools:

- Install [git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)
  - Run `git --version` to check the installation. You should see an output similar to `git version x.x.x`.
- Install [Nodejs](https://nodejs.org/en/) 16.0.0 or higher
  - Run `node --version` to check the installation. You should see an output similar to `v16.x.x`.
- Create an account with [Infura](https://www.infura.io/) or [Alchemy](https://www.alchemy.com/) to use as an RPC endpoint if you do not already have one. Alternatively, you can [use your own testnet clients](/chainlink-nodes/resources/run-an-ethereum-client).

## Setup the example

To set up this example, clone the source and install the required packages.

1. Clone the [smartcontractkit/quickstarts-circuitbreaker](https://github.com/smartcontractkit/quickstarts-circuitbreaker) repository, change directories, and install the dependencies using `npm`:

   ```shell
   https://github.com/smartcontractkit/circuit-breaker-chainlink-automation.git && \
   cd circuit-breaker-chainlink-automation && \
   npm i
   ```

1. Install the `chainlink/contracts` npm package:

   ```shell
   npm install @chainlink/contracts@0.6.1 --save
   ```

## Run the example

1. Deploy the ExampleImplementation.sol - while deploying this, the constructor will expect the proxy contract address of the price feed (example: 0x1b44F3514812d835EB1BDB0acB33d3fA3351Ee43), the maxBalance (example: 3000000000000 ) and “isEmergencyPossible” flag (which could be set to true if you want the circuit breaking condition to be checked; this allows for this to be turned OFF with false if needed)
1. Deploy the CircuitBreaker.sol
1. Go to https://automation.chain.link/ and click Register new Upkeep.
1. Select custom logic and for Target contract address, enter the address of CircuitBreaker.sol
1. Fill in the rest of the field as desired, however, In the Check Data field - pass in the address of the ExampleImplementation.sol contract. Note: Use abi.encode this contract address with a 0x in the beginning before entering it as checkData
1. Register and fund your upkeep.
